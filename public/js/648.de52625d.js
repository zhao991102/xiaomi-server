(self["webpackChunkxiaomi"]=self["webpackChunkxiaomi"]||[]).push([[648],{4734:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>m});r(8309);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"header"},[e("router-link",{attrs:{to:"/cart"}},[e("i",{staticClass:"iconfont icon-back"})]),e("span",[t._v("用户结算")]),e("i")],1),e("div",{staticClass:"content"},[t.showDefault?e("div",{staticClass:"address"},[e("div",{staticClass:"name-phone-span"},[e("div",{staticClass:"name-phone"},[e("h6",{domProps:{textContent:t._s(t.addressList.receiveName)}}),e("p",{domProps:{textContent:t._s(t.addressList.receivePhone)}})]),e("div",{staticClass:"region-detail"},[e("span",{domProps:{textContent:t._s(t.addressList.receiveRegion)}}),e("span",{domProps:{textContent:t._s(t.addressList.receiveDetail)}})]),e("span",[t._v("(266100)")])]),e("span",{on:{click:function(e){t.isEdit=!0}}},[e("i",{staticClass:"i"},[t._v(" > ")])])]):e("div",{staticClass:"address"},[e("div",{staticClass:"name-phone-span"},[e("div",{staticClass:"name-phone"},[e("h6",{domProps:{textContent:t._s(t.addList.receiveName)}}),e("p",{domProps:{textContent:t._s(t.addList.receivePhone)}})]),e("div",{staticClass:"region-detail"},[e("span",{domProps:{textContent:t._s(t.addList.receiveRegion)}}),e("span",{domProps:{textContent:t._s(t.addList.receiveDetail)}})]),e("span",[t._v("(266100)")])]),e("span",{on:{click:function(e){t.isEdit=!0}}},[e("i",{staticClass:"i"},[t._v(" > ")])])]),e("div",{staticClass:"cart"},[e("ul",{staticClass:"list"},t._l(t.buyList,(function(r){return e("li",[e("div",{staticClass:"img-h6"},[e("img",{attrs:{src:r.avatar,alt:""}}),e("h6",{staticClass:"name",domProps:{textContent:t._s(r.name)}})]),e("div",{staticClass:"span-p"},[e("span",{domProps:{textContent:t._s(1!==r.count?r.count+"x":"")}}),e("p",{domProps:{textContent:t._s(r.price)}}),t._v(".00 ")])])})),0)]),t._m(0),e("div",{staticClass:"ul-li-p-span"},[e("ul",[e("li",[e("p",[t._v("商品价格")]),e("span",{domProps:{textContent:t._s(t.getSum)}}),t._v(".00 ")]),t._m(1)])]),t.showDefault?e("div",{staticClass:"absolute"},[e("p",[t._v(" 配送至：")]),e("span",{domProps:{textContent:t._s(t.addressList.receiveRegion)}}),e("span",{domProps:{textContent:t._s(t.addressList.receiveDetail)}})]):e("div",{staticClass:"absolute"},[e("p",[t._v(" 配送至：")]),e("span",{domProps:{textContent:t._s(t.addList.receiveRegion)}}),e("span",{domProps:{textContent:t._s(t.addList.receiveDetail)}})])]),e("div",{staticClass:"foot"},[e("div",{staticClass:"p-span"},[e("p",[t._v(" 共"),e("span",{domProps:{textContent:t._s(t.getCount)}}),t._v("件 ")]),t._v(" 总计："),e("span",{domProps:{textContent:t._s(t.getSum)}}),e("span",[t._v(".00")])]),e("button",{on:{click:t.goPay}},[t._v("去付款")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],staticClass:"dialog-wrapper",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.isEdit=!1}}},[e("div",{staticClass:"dialog"},[e("h2",[t._v("选择地址")]),e("ul",t._l(t.$store.state.address.list,(function(r){return e("li",{key:r.id,on:{click:function(e){return t.changeList(r)}}},[e("div",{staticClass:"name-phone-span"},[e("div",{staticClass:"name-phone"},[e("h6",{domProps:{textContent:t._s(r.receiveName)}}),e("p",{domProps:{textContent:t._s(r.receivePhone)}})]),e("span",{domProps:{textContent:t._s(r.receiveRegion)}}),e("span",{domProps:{textContent:t._s(r.receiveDetail)}})])])})),0)])])])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"ul-li-span-p"},[e("ul",[e("li",[e("span",[t._v("运费")]),e("p",[t._v("包邮")])]),e("li",[e("span",[t._v("电子普通发票")]),e("p",[t._v("个人")])]),e("li",[e("span",[t._v("优惠券")]),e("p",[t._v("无可用")])])])])},function(){var t=this,e=t._self._c;return e("li",[e("p",[t._v("配送费用")]),e("span",[t._v("0.00")])])}],a=r(4648),i=r(6835);r(9753);function o(t){if(Array.isArray(t))return t}r(2526),r(1817),r(1539),r(2165),r(8783),r(3948);function c(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var s,n,a=[],i=!0,o=!1;try{for(r=r.call(t);!(i=(s=r.next()).done);i=!0)if(a.push(s.value),e&&a.length===e)break}catch(c){o=!0,n=c}finally{try{i||null==r["return"]||r["return"]()}finally{if(o)throw n}}return a}}var u=r(2780);r(1703),r(6647);function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){return o(t)||c(t,e)||(0,u.Z)(t,e)||l()}var p=r(8534),v=(r(9554),r(4747),r(7877));const f={name:"OrderConfirm",data:function(){return{showDefault:!1,isEdit:!1,buyList:[],addList:[],payList:{ids:null,account:0,addressId:85},bbb:0,addressList:{id:0,isDefault:0,receiveName:"",receivePhone:"",receiveRegion:"",receiveDetail:""}}},computed:{getSum:function(){var t=0;return this.buyList.forEach((function(e){t+=e.price*e.count})),t},getCount:function(){var t=0;return this.buyList.forEach((function(e){t+=e.count})),t},aaa:function(){return JSON.parse(this.$route.query.ids)}},created:function(){var t=this;return(0,p.Z)((0,i.Z)().mark((function e(){var r,s,n,a;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.parse(t.$route.query.ids),e.next=4,Promise.all([v.eC.getByIds(r),t.$store.dispatch("address/init")]);case 4:s=e.sent,n=d(s,1),a=n[0],t.buyList=a,t.addList=t.$store.getters["address/defaultAddress"],t.payList.ids=t.aaa,t.payList.account=t.getSum,t.payList.addressId=t.addList.id,e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})))()},methods:{goPay:function(){var t=this;return(0,p.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.DT.getList(t.payList);case 2:t.bbb=e.sent,t.$miNotice("添加成功"),t.$router.push("/paylist?count=".concat(t.bbb));case 5:case"end":return e.stop()}}),e)})))()},changeList:function(t){this.addressList=(0,a.Z)({},t),this.payList.addressId=t.id,this.isEdit=!1,this.showDefault=!0}}},h=f;var g=r(1001),x=(0,g.Z)(h,s,n,!1,null,"b368c29a",null);const m=x.exports},8457:(t,e,r)=>{"use strict";var s=r(9974),n=r(6916),a=r(7908),i=r(3411),o=r(7659),c=r(4411),u=r(6244),l=r(6135),d=r(8554),p=r(1246),v=Array;t.exports=function(t){var e=a(t),r=c(this),f=arguments.length,h=f>1?arguments[1]:void 0,g=void 0!==h;g&&(h=s(h,f>2?arguments[2]:void 0));var x,m,y,b,C,_,P=p(e),w=0;if(!P||this===v&&o(P))for(x=u(e),m=r?new this(x):v(x);x>w;w++)_=g?h(e[w],w):e[w],l(m,w,_);else for(b=d(e,P),C=b.next,m=r?new this:[];!(y=n(C,b)).done;w++)_=g?i(b,h,[y.value,w],!0):y.value,l(m,w,_);return m.length=w,m}},3411:(t,e,r)=>{var s=r(9670),n=r(9212);t.exports=function(t,e,r,a){try{return a?e(s(r)[0],r[1]):e(r)}catch(i){n(t,"throw",i)}}},2261:(t,e,r)=>{"use strict";var s=r(6916),n=r(1702),a=r(1340),i=r(7066),o=r(2999),c=r(2309),u=r(30),l=r(9909).get,d=r(9441),p=r(7168),v=c("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,h=f,g=n("".charAt),x=n("".indexOf),m=n("".replace),y=n("".slice),b=function(){var t=/a/,e=/b*/g;return s(f,t,"a"),s(f,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),C=o.BROKEN_CARET,_=void 0!==/()??/.exec("")[1],P=b||_||C||d||p;P&&(h=function(t){var e,r,n,o,c,d,p,P=this,w=l(P),O=a(t),L=w.raw;if(L)return L.lastIndex=P.lastIndex,e=s(h,L,O),P.lastIndex=L.lastIndex,e;var E=w.groups,I=C&&P.sticky,j=s(i,P),k=P.source,D=0,R=O;if(I&&(j=m(j,"y",""),-1===x(j,"g")&&(j+="g"),R=y(O,P.lastIndex),P.lastIndex>0&&(!P.multiline||P.multiline&&"\n"!==g(O,P.lastIndex-1))&&(k="(?: "+k+")",R=" "+R,D++),r=new RegExp("^(?:"+k+")",j)),_&&(r=new RegExp("^"+k+"$(?!\\s)",j)),b&&(n=P.lastIndex),o=s(f,I?r:P,R),I?o?(o.input=y(o.input,D),o[0]=y(o[0],D),o.index=P.lastIndex,P.lastIndex+=o[0].length):P.lastIndex=0:b&&o&&(P.lastIndex=P.global?o.index+o[0].length:n),_&&o&&o.length>1&&s(v,o[0],r,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)})),o&&E)for(o.groups=d=u(null),c=0;c<E.length;c++)p=E[c],d[p[0]]=o[p[1]];return o}),t.exports=h},7066:(t,e,r)=>{"use strict";var s=r(9670);t.exports=function(){var t=s(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},2999:(t,e,r)=>{var s=r(7293),n=r(7854),a=n.RegExp,i=s((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),o=i||s((function(){return!a("a","y").sticky})),c=i||s((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:o,UNSUPPORTED_Y:i}},9441:(t,e,r)=>{var s=r(7293),n=r(7854),a=n.RegExp;t.exports=s((function(){var t=a(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:(t,e,r)=>{var s=r(7293),n=r(7854),a=n.RegExp;t.exports=s((function(){var t=a("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},7327:(t,e,r)=>{"use strict";var s=r(2109),n=r(2092).filter,a=r(1194),i=a("filter");s({target:"Array",proto:!0,forced:!i},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},1038:(t,e,r)=>{var s=r(2109),n=r(8457),a=r(7072),i=!a((function(t){Array.from(t)}));s({target:"Array",stat:!0,forced:i},{from:n})},9753:(t,e,r)=>{var s=r(2109),n=r(3157);s({target:"Array",stat:!0},{isArray:n})},3321:(t,e,r)=>{var s=r(2109),n=r(9781),a=r(6048).f;s({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!n},{defineProperties:a})},5003:(t,e,r)=>{var s=r(2109),n=r(7293),a=r(5656),i=r(1236).f,o=r(9781),c=n((function(){i(1)})),u=!o||c;s({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(t,e){return i(a(t),e)}})},9337:(t,e,r)=>{var s=r(2109),n=r(9781),a=r(3887),i=r(5656),o=r(1236),c=r(6135);s({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,r,s=i(t),n=o.f,u=a(s),l={},d=0;while(u.length>d)r=n(s,e=u[d++]),void 0!==r&&c(l,e,r);return l}})},7941:(t,e,r)=>{var s=r(2109),n=r(7908),a=r(1956),i=r(7293),o=i((function(){a(1)}));s({target:"Object",stat:!0,forced:o},{keys:function(t){return a(n(t))}})},4916:(t,e,r)=>{"use strict";var s=r(2109),n=r(2261);s({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},7601:(t,e,r)=>{"use strict";r(4916);var s=r(2109),n=r(6916),a=r(1702),i=r(614),o=r(111),c=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=TypeError,l=a(/./.test);s({target:"RegExp",proto:!0,forced:!c},{test:function(t){var e=this.exec;if(!i(e))return l(this,t);var r=n(e,this,t);if(null!==r&&!o(r))throw new u("RegExp exec method returned something other than an Object or null");return!!r}})},9227:(t,e,r)=>{"use strict";function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}r.d(e,{Z:()=>s})},4648:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});r(7941),r(2526),r(7327),r(1539),r(5003),r(9554),r(4747),r(9337),r(3321),r(9070);function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},2780:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});r(7042),r(1539),r(8309),r(1038),r(8783),r(4916),r(7601);var s=r(9227);function n(t,e){if(t){if("string"===typeof t)return(0,s.Z)(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,s.Z)(t,e):void 0}}}}]);
//# sourceMappingURL=648.de52625d.js.map