(self["webpackChunkxiaomi"]=self["webpackChunkxiaomi"]||[]).push([[896],{3896:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"header"},[t("a",{attrs:{href:"javascript: void(0)"},on:{click:e.goPrev}},[t("i",{staticClass:"iconfont icon-back"})]),t("span",[e._v("收货地址")]),t("i")]),t("div",{staticClass:"content"},[t("transition-group",{staticClass:"list",attrs:{tag:"ul"}},e._l(e.$store.state.address.list,(function(r){return t("li",{key:r.id},[t("div",{staticClass:"name-phone-span"},[t("div",{staticClass:"name-phone"},[t("h6",{domProps:{textContent:e._s(r.receiveName)}}),t("p",{domProps:{textContent:e._s(r.receivePhone)}})]),t("span",{domProps:{textContent:e._s(r.receiveRegion)}}),t("span",{domProps:{textContent:e._s(r.receiveDetail)}})]),t("div",{staticClass:"btn"},[t("button",{on:{click:function(t){return e.remove(r.id)}}},[e._v("删除")]),t("button",{on:{click:function(t){return e.beginUpdate(r)}}},[e._v("修改")]),0===r.isDefault?t("button",{on:{click:function(t){return e.setDefault(r.id)}}},[e._v(" 设为默认 ")]):t("span",[e._v("默认地址")])])])})),0)],1),t("div",{staticClass:"foot"},[t("button",{on:{click:e.beginAdd}},[e._v("+ 新建收货地址")])]),e.isEdit?t("AddressEdit",{attrs:{model:e.model},on:{endEdit:e.save,rocket:function(t){e.isEdit=!e.isEdit}}}):e._e()],1)},n=[],s=r(4648),a=r(6835),o=r(8534),c=(r(7877),r(3210),function(){var e=this,t=e._self._c;return t("div",{staticClass:"address-edit"},[t("div",{staticClass:"header"},[t("router-link",{attrs:{to:"/address"}},[t("i",{staticClass:"iconfont icon-back",on:{click:e.changeEdit}})]),t("span",[e._v("编辑地址")]),t("i")],1),t("div",{staticClass:"content"},[t("div",[t("span",[e._v("收货人:")]),t("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.address.receiveName,expression:"address.receiveName",modifiers:{trim:!0,lazy:!0}}],attrs:{type:"text",placeholder:"真实姓名"},domProps:{value:e.address.receiveName},on:{change:function(t){e.$set(e.address,"receiveName",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),t("div",[t("span",[e._v("手机号码:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.address.receivePhone,expression:"address.receivePhone",modifiers:{trim:!0,lazy:!0}}],attrs:{type:"text",placeholder:"手机号"},domProps:{value:e.address.receivePhone},on:{change:function(t){e.$set(e.address,"receivePhone",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),t("div",[t("span",[e._v("所在地区:")]),t("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.address.receiveRegion,expression:"address.receiveRegion",modifiers:{trim:!0,lazy:!0}}],attrs:{type:"text",placeholder:"省 市 区 街道信息"},domProps:{value:e.address.receiveRegion},on:{change:function(t){e.$set(e.address,"receiveRegion",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),t("div",[t("span",[e._v("详细地址:")]),t("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.address.receiveDetail,expression:"address.receiveDetail",modifiers:{trim:!0,lazy:!0}}],attrs:{type:"text",placeholder:"详细地址"},domProps:{value:e.address.receiveDetail},on:{change:function(t){e.$set(e.address,"receiveDetail",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),t("div",{staticClass:"foot"},[t("button",{on:{click:e.save}},[e._v("保存")])])])}),d=[];const u={name:"AddressEdit",props:["model"],data:function(){return{address:{receiveName:this.model.receiveName,receivePhone:this.model.receivePhone,receiveRegion:this.model.receiveRegion,receiveDetail:this.model.receiveDetail}}},methods:{save:function(){this.$emit("endEdit",(0,s.Z)({},this.address))},changeEdit:function(){this.$emit("rocket")}}},l=u;var v=r(1001),p=(0,v.Z)(l,c,d,!1,null,"c71aab64",null);const m=p.exports,f={name:"Address",components:{AddressEdit:m},data:function(){return{list:[],isEdit:!1,model:null}},created:function(){try{this.$store.dispatch("address/init")}catch(e){}},methods:{setDefault:function(e){var t=this;return(0,o.Z)((0,a.Z)().mark((function r(){return(0,a.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch("address/setDefault",e);case 3:t.$miNotice("设置默认地址成功.."),r.next=8;break;case 6:r.prev=6,r.t0=r["catch"](0);case 8:case"end":return r.stop()}}),r,null,[[0,6]])})))()},remove:function(e){var t=this;return(0,o.Z)((0,a.Z)().mark((function r(){return(0,a.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$miConfirm("真删？");case 3:return r.next=5,t.$store.dispatch("address/remove",e);case 5:t.$miNotice("删除成功.."),r.next=10;break;case 8:r.prev=8,r.t0=r["catch"](0);case 10:case"end":return r.stop()}}),r,null,[[0,8]])})))()},goPrev:function(){this.$router.go(-1)},beginAdd:function(){this.model={id:0,name:sessionStorage.getItem("name"),receiveName:"",receivePhone:"",receiveRegion:"",receiveDetail:"",isDefault:0},this.isEdit=!this.isEdit},beginUpdate:function(e){this.model=Object.assign({},e),this.isEdit=!0},save:function(e){var t=this;return(0,o.Z)((0,a.Z)().mark((function r(){return(0,a.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.id=t.model.id,r.prev=1,r.next=4,t.$store.dispatch("address/".concat(0===t.model.id?"add":"update"),(0,s.Z)((0,s.Z)({},t.model),e));case 4:t.isEdit=!1,t.$miNotice("编辑成功.."),r.next=10;break;case 8:r.prev=8,r.t0=r["catch"](1);case 10:case"end":return r.stop()}}),r,null,[[1,8]])})))()}}},h=f;var g=(0,v.Z)(h,i,n,!1,null,"03742356",null);const b=g.exports},6091:(e,t,r)=>{var i=r(6530).PROPER,n=r(7293),s=r(1361),a="​᠎";e.exports=function(e){return n((function(){return!!s[e]()||a[e]()!==a||i&&s[e].name!==e}))}},7327:(e,t,r)=>{"use strict";var i=r(2109),n=r(2092).filter,s=r(1194),a=s("filter");i({target:"Array",proto:!0,forced:!a},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},3321:(e,t,r)=>{var i=r(2109),n=r(9781),s=r(6048).f;i({target:"Object",stat:!0,forced:Object.defineProperties!==s,sham:!n},{defineProperties:s})},5003:(e,t,r)=>{var i=r(2109),n=r(7293),s=r(5656),a=r(1236).f,o=r(9781),c=n((function(){a(1)})),d=!o||c;i({target:"Object",stat:!0,forced:d,sham:!o},{getOwnPropertyDescriptor:function(e,t){return a(s(e),t)}})},9337:(e,t,r)=>{var i=r(2109),n=r(9781),s=r(3887),a=r(5656),o=r(1236),c=r(6135);i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,i=a(e),n=o.f,d=s(i),u={},l=0;while(d.length>l)r=n(i,t=d[l++]),void 0!==r&&c(u,t,r);return u}})},7941:(e,t,r)=>{var i=r(2109),n=r(7908),s=r(1956),a=r(7293),o=a((function(){s(1)}));i({target:"Object",stat:!0,forced:o},{keys:function(e){return s(n(e))}})},3210:(e,t,r)=>{"use strict";var i=r(2109),n=r(3111).trim,s=r(6091);i({target:"String",proto:!0,forced:s("trim")},{trim:function(){return n(this)}})},4648:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});r(7941),r(2526),r(7327),r(1539),r(5003),r(9554),r(4747),r(9337),r(3321),r(9070);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}}}]);
//# sourceMappingURL=896.2b4bd02f.js.map